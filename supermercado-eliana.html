<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Supermercado Eliana</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background-color: #e6f4ea; color: #1f433b; }
    header, footer { background: #fff; }
    button { cursor: pointer; }
  </style>
</head>
<body>
  <header class="shadow p-4">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold text-green-700">Supermercado Eliana</h1>
      <nav>
        <a href="#" class="text-green-700 hover:text-green-900 mx-2">Início</a>
        <a href="#" class="text-green-700 hover:text-green-900 mx-2">Produtos</a>
        <a href="#" class="text-green-700 hover:text-green-900 mx-2">Contato</a>
      </nav>
    </div>
  </header>

  <main class="max-w-6xl mx-auto p-4">
    <section>
      <h2 class="text-xl font-bold mb-4">Produtos</h2>
      <div id="produtos" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
    </section>

    <section class="mt-10">
      <h2 class="text-xl font-bold mb-2">Carrinho</h2>
      <ul id="lista-carrinho" class="list-disc list-inside mb-4"></ul>
      <p id="total-carrinho" class="font-bold mb-4">Total: R$ 0,00</p>
      <button id="btn-finalizar" class="bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800">Finalizar Compra</button>
    </section>
  </main>

  <footer class="bg-white p-4 mt-10 text-center text-sm text-green-600">
    © 2025 Supermercado Eliana. Todos os direitos reservados.
  </footer>

  <script>
    // Lista de produtos (fácil de editar)
    const produtos = [
      { id: 1, nome: "Arroz Tipo 1 - 5kg", preco: 21.90, img: "https://via.placeholder.com/300x200" },
      { id: 2, nome: "Feijão Carioca - 1kg", preco: 7.80, img: "https://via.placeholder.com/300x200" },
      { id: 3, nome: "Leite Integral - 1L", preco: 4.50, img: "https://via.placeholder.com/300x200" },
    ];

    let carrinho = [];

    const divProdutos = document.getElementById("produtos");
    const listaCarrinho = document.getElementById("lista-carrinho");
    const totalCarrinho = document.getElementById("total-carrinho");
    const btnFinalizar = document.getElementById("btn-finalizar");

    // Função para mostrar os produtos na página
    function mostrarProdutos() {
      divProdutos.innerHTML = "";
      produtos.forEach(produto => {
        const card = document.createElement("div");
        card.className = "bg-white p-4 rounded-lg shadow hover:shadow-lg transition";

        card.innerHTML = `
          <img src="${produto.img}" alt="${produto.nome}" class="w-full h-40 object-cover rounded" />
          <h3 class="text-lg font-semibold mt-2">${produto.nome}</h3>
          <p class="text-green-700 font-bold mt-1">R$ ${produto.preco.toFixed(2)}</p>
          <button class="mt-3 w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">
            Adicionar ao carrinho
          </button>
        `;

        // Evento para adicionar ao carrinho
        card.querySelector("button").addEventListener("click", () => {
          adicionarAoCarrinho(produto);
        });

        divProdutos.appendChild(card);
      });
    }

    // Adiciona produto ao carrinho
    function adicionarAoCarrinho(produto) {
      carrinho.push(produto);
      atualizarCarrinho();
    }

    // Atualiza visual do carrinho
    function atualizarCarrinho() {
      listaCarrinho.innerHTML = "";
      let total = 0;

      carrinho.forEach((item, index) => {
        total += item.preco;

        const li = document.createElement("li");
        li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)}`;

        // Botão remover item
        const btnRemover = document.createElement("button");
        btnRemover.textContent = "❌";
        btnRemover.className = "ml-2 text-red-600";
        btnRemover.title = "Remover do carrinho";
        btnRemover.style.cursor = "pointer";
        btnRemover.addEventListener("click", () => {
          removerDoCarrinho(index);
        });

        li.appendChild(btnRemover);
        listaCarrinho.appendChild(li);
      });

      totalCarrinho.textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    // Remove item do carrinho pelo índice
    function removerDoCarrinho(index) {
      carrinho.splice(index, 1);
      atualizarCarrinho();
    }

    // Finaliza compra - abre link externo (troque o pref_id para o seu!)
    btnFinalizar.addEventListener("click", () => {
      if (carrinho.length === 0) {
        alert("Seu carrinho está vazio.");
        return;
      }

      // Aqui você pode montar um link real com base no carrinho, mas por enquanto:
      const linkPagamento = "https://www.mercadopago.com.br/checkout/v1/redirect?pref_id=SEU_ID_DE_PAGAMENTO";

      alert("Você será redirecionado para o pagamento.");
      window.open(linkPagamento, "_blank");

      // Limpa o carrinho após finalizar
      carrinho = [];
      atualizarCarrinho();
    });

    // Inicializa a página mostrando os produtos
    mostrarProdutos();
    atualizarCarrinho();
  </script>
</body>
</html>
